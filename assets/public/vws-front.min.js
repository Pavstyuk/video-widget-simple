document.addEventListener("DOMContentLoaded",(()=>{const e=window.location.origin,t=`\n        <style id="vws-front-css">\n            @import url("${e+"/wp-content/plugins/video-widget/assets/public/vws-front.min.css"}");\n        </style>`,n=e+"/wp-content/plugins/video-widget/widget-get.php?key=vws-video-widget-simple";let s=window.location.origin+window.location.pathname,o=s.slice(0,-1),d=window.location.pathname,i=d.slice(0,-1);fetch(n).then((e=>e.json())).then((e=>{e.video.length>20&&(s!==e.page&&o!==e.page||a(e),"home"!==e.page&&"main"!==e.page&&e.page!==d&&e.page!==i||a(e),""===e.page&&a(e))})).catch((e=>{}));const a=e=>{let n=e.width>160&&e.width<=720?e.width:240,s=e.delay>=0?e.delay:2e3;const o=document.createElement("div");o.classList.add("vws-widget-wrap"),e.color&&(o.style.borderColor=e.color);const d=document.createElement("video");d.classList.add("vws-widget-video"),d.setAttribute("width",n),d.muted=!0,d.loop=!0,d.controls=!1,d.autoplay=!0;const i=document.createElement("source");i.src=e.video,i.setAttribute("type","video/mp4"),d.append(i),o.append(d);const a=document.createElement("button");a.classList.add("vws-widget-close"),a.innerHTML="&#10005;";const c=document.createElement("button");c.classList.add("vws-widget-min"),c.innerHTML="&#8212;",o.append(a,c),document.body.insertAdjacentHTML("beforeend",t),setTimeout((()=>{document.body.append(o),l()}),s);const l=()=>{let e=document.querySelector(".vws-widget-wrap"),t=document.querySelector(".vws-widget-video");document.documentElement.addEventListener("click",(n=>{"vws-widget-close"===n.target.className&&(e.remove(),document.getElementById("vws-front-css").remove(),document.getElementById("vws-front-js").remove()),"vws-widget-min"===n.target.className&&(e.classList.remove("playing"),t.muted=!0,t.currentTime=0,t.play()),"vws-widget-video"===n.target.className&&(e.classList.add("playing"),t.muted=!1,t.currentTime=0,t.play()),e.classList.contains("playing")&&"vws-widget-video"!=n.target.className&&"vws-widget-wrapper"!=n.target.className&&"vws-widget-min"!=n.target.className&&(e.classList.remove("playing"),t.muted=!0,t.currentTime=0,t.play())}))}}}));